# üìú –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ LLM-RAG-Bot

> **–°–æ–∑–¥–∞–Ω:** 19 –æ–∫—Ç—è–±—Ä—è 2025  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 19 –æ–∫—Ç—è–±—Ä—è 2025  
> **–í—Å–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–æ–≤:** 55

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [Production Management](#production-management) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä–æ–º
2. [Development & Testing](#development--testing) - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. [Database & Migrations](#database--migrations) - –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ë–î
4. [Deployment & Updates](#deployment--updates) - –¥–µ–ø–ª–æ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. [Maintenance & Utilities](#maintenance--utilities) - –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ —É—Ç–∏–ª–∏—Ç—ã
6. [Deprecated Scripts](#deprecated-scripts) - —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–∫—Ä–∏–ø—Ç—ã

---

## üöÄ Production Management

### `prod.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è production —Å–µ—Ä–≤–µ—Ä–æ–º (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å prod
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã: start, stop, restart, status, logs, update, test, backup

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- **–í—Å–µ–≥–¥–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è prod
- –ü—Ä–∏–º–µ—Ä—ã: `./scripts/prod.sh start`, `./scripts/prod.sh logs-app`

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –í dev/test –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –æ—Å–Ω–æ–≤–Ω–æ–π production —Å–∫—Ä–∏–ø—Ç

---

### `start_production.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ production —Ä–µ–∂–∏–º–µ

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `/opt/llm-bot/config/.env`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (POSTGRES_PASSWORD, BOT_TOKEN)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç health endpoint

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh start`

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –í dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å—ã —É–∂–µ –∑–∞–ø—É—â–µ–Ω—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –∫—Ä–∏—Ç–∏—á–Ω—ã–π –¥–ª—è production

---

### `prod_status.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, Memory)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å endpoints
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –ø—Ä–æ–±–ª–µ–º
- –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh status`

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ù–∏–∫–æ–≥–¥–∞ (–≤—Å–µ–≥–¥–∞ –±–µ–∑–æ–ø–∞—Å–µ–Ω)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –≤–∞–∂–µ–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

### `prod_logs.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ production —Å–µ—Ä–≤–∏—Å–æ–≤

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º (app, bot, postgres)

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ –ø—Ä–æ–±–ª–µ–º
- –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç—ã
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh logs` –∏–ª–∏ `./scripts/prod.sh logs-app`

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ù–∏–∫–æ–≥–¥–∞ (–≤—Å–µ–≥–¥–∞ –±–µ–∑–æ–ø–∞—Å–µ–Ω, read-only)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

### `prod_restart.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π –æ–±—Ä–∞–∑–∞

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã (--no-cache)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–Ω–æ–≤–æ
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç health

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
- –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh restart`

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å .env (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `prod_restart_env.sh`)
- –í–æ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

### `prod_restart_env.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è .env –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ë–ï–ó –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ .env

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¢–û–õ–¨–ö–û –≤ .env
- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh restart-env` (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ prod.sh)

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ï—Å–ª–∏ –º–µ–Ω—è–ª—Å—è –∫–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `prod_restart.sh`)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

---

### `prod_stop.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å—Ç–∞–Ω–æ–≤–∫–∞ production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü–µ—Ä–µ–¥ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh stop`

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üß™ Development & Testing

### `test_local.sh` / `test_local.ps1` ‚úÖ –ê–ö–¢–£–ê–õ–¨–ù–´
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Linux/Mac –∏ Windows

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã
- –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ó–∞–ø—É—Å–∫ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤ (unit, integration, e2e)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ (lint, format)

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ù–∞ production —Å–µ—Ä–≤–µ—Ä–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ù–´** - –æ—Å–Ω–æ–≤–Ω—ã–µ dev —Å–∫—Ä–∏–ø—Ç—ã

---

### `test_local_admin.sh` / `test_local_admin.ps1` ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –£–°–¢–ê–†–ï–õ–ò
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ö–æ–ø–∏—Ä—É–µ—Ç `env.test` –≤ `.env`
- –°–æ–±–∏—Ä–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ó–∞–ø—É—Å–∫–∞–µ—Ç `test_admin_panel.py`

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å `test_local.sh`
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è –∞–¥–º–∏–Ω–∫–∏, –Ω–æ –º–æ–∂–Ω–æ –ø–æ–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∫—Ä—ã—Ç–∞ `test_local.sh` + `test_admin_panel.py`

---

### `test_local_simple.ps1` ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–æ–π –¥–ª—è Windows

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã: setup, start, stop, test, status, clean

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å `test_local.ps1`
- –ú–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - `test_local.ps1` –±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π

---

### `run_tests.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ pytest —Ç–µ—Å—Ç–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ç–µ—Å—Ç–æ–≤ (unit, integration, e2e)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–∞—Ä–∫–µ—Ä–∞–º
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ (coverage)
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)
- –í CI/CD pipeline

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π test runner

---

### `test_catalog.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫–∞—Ç–∞–ª–æ–≥–∞

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã –∫–∞—Ç–∞–ª–æ–≥–∞ –ø–æ —Ç–∏–ø–∞–º (unit, integration, e2e)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ú–æ–∂–Ω–æ –ø–æ–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ `run_tests.sh -m search`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - –¥—É–±–ª–∏—Ä—É–µ—Ç `run_tests.sh`

---

### `smoke_tests.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–µ smoke tests –Ω–∞ VPS

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î, LLM, –ø–æ–∏—Å–∫–∞, API
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ 15-30 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- –ü—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh smoke`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

---

### Python Test Scripts (test_*.py) - 8 —Ñ–∞–π–ª–æ–≤

#### `test_admin_panel.py` ‚úÖ –ù–£–ñ–ï–ù
–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏: —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î, –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

#### `test_catalog_upload.py` ‚úÖ –ù–£–ñ–ï–ù
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ Excel –∫–∞—Ç–∞–ª–æ–≥–∞: —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∑–∞–≥—Ä—É–∑–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

#### `test_upload_only.py` ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
–ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ - –¥—É–±–ª–∏—Ä—É–µ—Ç —á–∞—Å—Ç—å `test_catalog_upload.py`
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `test_simple_auth.py` ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
–ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ - –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è `test_catalog_upload.py`
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `test_history.py` ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π - –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è `test_catalog_upload.py`
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `quick_test.py` ‚ö†Ô∏è –î–£–ë–õ–¨
–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ - –¥—É–±–ª–∏—Ä—É–µ—Ç `test_admin_panel.py`
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `test_text_utils.py` ‚úÖ –ù–£–ñ–ï–ù
Unit —Ç–µ—Å—Ç—ã –¥–ª—è text_utils (escape_braces, safe_format, JSON) - –∫—Ä–∏—Ç–∏—á–Ω—ã

#### `create_test_excel.py` ‚ö†Ô∏è –£–¢–ò–õ–ò–¢–ê
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ Excel —Ñ–∞–π–ª–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö —Ç–µ—Å—Ç–∞—Ö
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–°–¢–ê–í–ò–¢–¨ –∫–∞–∫ —É—Ç–∏–ª–∏—Ç—É

---

## üóÑÔ∏è Database & Migrations

### `create_migration.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –Ω–æ–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏ (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç)
- –°–æ–∑–¥–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Alembic
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç `###_description.py`
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç `revision` –∏ `down_revision`

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π –ë–î
- –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü/–ø–æ–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sed -i` (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Mac)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

---

### `reset_migrations.sh` ‚ö†Ô∏è –û–ü–ê–°–ù–´–ô
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç backup –º–∏–≥—Ä–∞—Ü–∏–π
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –£–¥–∞–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `alembic_version`
- –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π
- –°–æ–∑–¥–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –µ—ë

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- **–¢–û–õ–¨–ö–û** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- **–ù–ò–ö–û–ì–î–ê** –Ω–∞ production –±–µ–∑ backup

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –£–¥–∞–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
- –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–û–°–¢–ê–í–ò–¢–¨** –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ö–†–ê–ô–ù–ï –†–ï–î–ö–û

---

### `clean_migrations.sh` ‚ùå –û–ß–ï–ù–¨ –û–ü–ê–°–ù–´–ô
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ò –¥–∞–Ω–Ω—ã—Ö –ë–î

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í—Å–µ —á—Ç–æ `reset_migrations.sh`
- **–ü–õ–Æ–° —É–¥–∞–ª—è–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ PostgreSQL** (`rm -rf /opt/llm-bot/data/postgres/*`)

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- **–ù–ò–ö–û–ì–î–ê –Ω–∞ production**
- –¢–æ–ª—å–∫–æ –≤ dev –¥–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –£–î–ê–õ–Ø–ï–¢ –í–°–ï –î–ê–ù–ù–´–ï
- –ù–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å --force

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–¢–¨** –≤ `clean_migrations_dev.sh` –∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç prod

---

### `fix_migration_branches.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ç–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π (multiple heads)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é —Å —Ö–µ—à–µ–º –≤ –∏–º–µ–Ω–∏
- –í—ã—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É down_revision

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –æ—à–∏–±–∫–µ "multiple heads"
- –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö –º–∏–≥—Ä–∞—Ü–∏–π

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è —Å—Ç–∞—Ä–æ–π –ø—Ä–æ–±–ª–µ–º—ã (–º–∏–≥—Ä–∞—Ü–∏—è `8bd76168eb7e_...`)
- –•–∞—Ä–¥–∫–æ–¥ —Å–ø–∏—Å–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

---

### `apply_migrations.py` ‚ö†Ô∏è –î–£–ë–õ–¨
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Python

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç `alembic upgrade head` —á–µ—Ä–µ–∑ subprocess

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å `docker-compose exec app alembic upgrade head`
- –õ–∏—à–Ω–∏–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - –Ω–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–µ—Ä–µ–¥ –ø—Ä—è–º—ã–º –≤—ã–∑–æ–≤–æ–º alembic

---

### Migration Check Scripts (check_*.sh, check_*.ps1, check_*.py) - 6 —Ñ–∞–π–ª–æ–≤

#### `check_conversations_table.ps1` / `.py` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ï
–ü—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—è `started_at` vs `created_at` –≤ —Ç–∞–±–ª–∏—Ü–µ conversations
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨ - –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–µ–π 008

#### `check_postgres_connection.ps1` / `.sh` ‚úÖ –ü–û–õ–ï–ó–ù–´–ï
–ü—Ä–æ–≤–µ—Ä—è—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ë–î
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–°–¢–ê–í–ò–¢–¨ - –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

#### `check_postgres_dev.sh` ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è dev - –¥—É–±–ª–∏—Ä—É–µ—Ç `check_postgres_connection.sh`
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `check_server_code_version.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Conversation.started_at` –≤ –∫–æ–¥–µ
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨ - –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

---

## üöÄ Deployment & Updates

### `deploy.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–≤–∏—á–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ VPS

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π `/opt/llm-bot/{app,data,config,scripts,backups}`
- –ö–ª–æ–Ω–∏—Ä—É–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑—ã
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç cron –¥–ª—è backup

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- **–û–î–ò–ù –†–ê–ó** –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ù–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `update.sh`)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –í —Å—Ç—Ä–æ–∫–µ 173 –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `$SCRIPTS_DIR` –ø–µ—Ä–µ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** –Ω–æ —Ç—Ä–µ–±—É–µ—Ç FIX

**FIX:**
```bash
# –°—Ç—Ä–æ–∫–∞ 172-174
log "üìã –ö–æ–ø–∏—Ä—É–µ–º —Å–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è..."
mkdir -p $SCRIPTS_DIR  # ‚Üê –î–û–ë–ê–í–ò–¢–¨ –≠–¢–£ –°–¢–†–û–ö–£
cp $APP_DIR/scripts/*.sh $SCRIPTS_DIR/
```

---

### `update.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Zero-downtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –°–æ–∑–¥–∞–µ—Ç backup
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç/–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–∏ --force, --force-overwrite)
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç health
- –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞ –Ω–∞ production
- –ß–µ—Ä–µ–∑ `./scripts/prod.sh update`

**–†–µ–∂–∏–º—ã:**
- –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö)
- `--force`: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ stash
- `--force-overwrite`: –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ö–†–ò–¢–ò–ß–ï–ù** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

### `update_safe.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í—ã–∑—ã–≤–∞–µ—Ç `update.sh` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

### `update_stash.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í—ã–∑—ã–≤–∞–µ—Ç `update.sh --force`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å stash

---

### `update_force.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (yes + 5 —Å–µ–∫—É–Ω–¥)
- –í—ã–∑—ã–≤–∞–µ—Ç `update.sh --force-overwrite`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

---

### `test_and_deploy.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Git —Å—Ç–∞—Ç—É—Å
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–∏–Ω—Ç–µ—Ä—ã (black, isort, flake8)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã (–±—ã—Å—Ç—Ä—ã–µ –∏ –ø–æ–ª–Ω—ã–µ)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ SSH
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` –∏–ª–∏ `env.production`:**
```bash
PRODUCTION_SERVER=your-server-ip-or-domain
PRODUCTION_USER=root  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é root
PRODUCTION_PORT=22    # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 22
```

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü—Ä–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é –ø–æ—Å–ª–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ CI/CD pipeline
- –í—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è feature

**–ö–æ–≥–¥–∞ –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ë–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü—Ä–∏ –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (—Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–º–∏—Ç –∏ push –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ - –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ –≤ .env, –Ω–µ –≤ Git

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–£–ñ–ï–ù** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è

---

## üõ†Ô∏è Maintenance & Utilities

### `backup.sh` ‚úÖ –ê–ö–¢–£–ê–õ–ï–ù
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- Backup PostgreSQL (SQL + binary dump)
- Backup Chroma –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
- Backup –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- Backup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.env)
- Backup –ª–æ–≥–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π)
- –°–æ–∑–¥–∞–µ—Ç tar.gz –∞—Ä—Ö–∏–≤
- –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ backup'—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é > 30 –¥–Ω–µ–π)
- –°–æ–∑–¥–∞–µ—Ç —Å–∏–º–ª–∏–Ω–∫ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ cron (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)
- –ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –í—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ö–†–ò–¢–ò–ß–ï–ù** - –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

---

### `setup_env_symlink.sh` ‚ö†Ô∏è –£–¢–ò–õ–ò–¢–ê
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–ª–∏–Ω–∫–∞ `.env -> ../config/.env`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç —Å–∏–º–ª–∏–Ω–∫ –≤ `/opt/llm-bot/app/.env`

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –í —Ç–µ–∫—É—â–µ–º docker-compose.prod.yml –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä—è–º–æ–π –ø—É—Ç—å

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

### `check_env_search_settings.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–∏—Å–∫–∞ –≤ .env

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `SEARCH_MIN_SCORE`, `SEARCH_NAME_BOOST`, –∏ —Ç.–¥.
- –î–æ–±–∞–≤–ª—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ v2.1
- –î–æ–ª–∂–µ–Ω –±—ã–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - –º–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

### `migrate_catalog_v21.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∏–≥—Ä–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ –Ω–∞ –≤–µ—Ä—Å–∏—é 2.1 (—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞
- –ó–∞–ø—É—Å–∫–∞–µ—Ç smoke tests

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è –≤–µ—Ä—Å–∏–∏ 2.1
- –î–æ–ª–∂–µ–Ω –±—ã–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** - –º–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

### User Management Scripts

#### `init_admin_users.py` ‚úÖ –ù–£–ñ–ï–ù
–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö –∞–¥–º–∏–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### `create_test_admin.py` ‚úÖ –ù–£–ñ–ï–ù
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–¥–º–∏–Ω–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### `generate_postgres_password.sh` ‚úÖ –ü–û–õ–ï–ó–ï–ù
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –¥–ª—è PostgreSQL

---

### Update/Fix Scripts (fix_*.sh, quick_*.sh) - 4 —Ñ–∞–π–ª–∞

#### `fix_started_at_error.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ `started_at` –Ω–∞ production - –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `quick_fix_started_at.sh` ‚ö†Ô∏è –°–ü–ï–¶–ò–§–ò–ß–ù–´–ô
–ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ—á–∏—Å—Ç–∫—É –∫—ç—à–∞ - –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `quick_update_prompts.py` ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ - –¥—É–±–ª–∏—Ä—É–µ—Ç `update_prompts.py`
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

#### `update_prompts.py` ‚úÖ –ù–£–ñ–ï–ù
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏: update, list, diff

---

### `init_test_data.sql` ‚úÖ –ù–£–ñ–ï–ù
SQL —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (36 –∏–∑ 55):
**Production management (7):**
- `prod.sh`, `start_production.sh`, `prod_status.sh`, `prod_logs.sh`, `prod_restart.sh`, `prod_restart_env.sh`, `prod_stop.sh`

**Testing (4):**
- `test_local.sh`, `test_local.ps1`, `run_tests.sh`, `smoke_tests.sh`

**Testing utilities (4):**
- `test_admin_panel.py`, `test_catalog_upload.py`, `test_text_utils.py`, `create_test_excel.py`

**Database (3):**
- `create_migration.sh`, `check_postgres_connection.sh`, `check_postgres_connection.ps1`

**Deployment (5):**
- `deploy.sh`, `update.sh`, `update_safe.sh`, `update_stash.sh`, `update_force.sh`, `test_and_deploy.sh`

**Maintenance (7):**
- `backup.sh`, `init_admin_users.py`, `create_test_admin.py`, `generate_postgres_password.sh`, `update_prompts.py`, `init_test_data.sql`

**–û–ø–∞—Å–Ω—ã–µ –Ω–æ –Ω—É–∂–Ω—ã–µ (2):**
- `reset_migrations.sh` - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- `clean_migrations.sh` - **–û–ü–ê–°–ï–ù**, —É–¥–∞–ª—è–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. ‚úÖ **19 —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ —É–¥–∞–ª–µ–Ω—ã** (35% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ)
2. ‚úÖ **deploy.sh –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
3. ‚úÖ **test_and_deploy.sh –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - —É–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ IP
4. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞** - –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞** - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **deploy.sh –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `mkdir -p $SCRIPTS_DIR` –ø–µ—Ä–µ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. **19 —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ —É–¥–∞–ª–µ–Ω—ã** - –ø—Ä–æ–µ–∫—Ç –æ—á–∏—â–µ–Ω –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞
3. **test_and_deploy.sh –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - —Ö–∞—Ä–¥–∫–æ–¥ IP –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞** - IP —Å–µ—Ä–≤–µ—Ä–∞ –±–æ–ª—å—à–µ –Ω–µ –≤ –ø—É–±–ª–∏—á–Ω–æ–º Git

### üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥–∞:**
```bash
cp env.production /opt/llm-bot/config/.env
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
nano /opt/llm-bot/config/.env

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ:
PRODUCTION_SERVER=your-actual-server-ip
PRODUCTION_USER=root  # –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
PRODUCTION_PORT=22    # —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SSH –ø–æ—Ä—Ç
```

3. **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```bash
cp env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ –¥–ª—è `clean_migrations.sh`

–°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ **–û–ü–ê–°–ï–ù** - —É–¥–∞–ª—è–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –ë–î!
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–¢–û–õ–¨–ö–û** –≤ development –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏.

---

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

#### Production —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
```bash
# –ó–∞–ø—É—Å–∫
./scripts/prod.sh start

# –°—Ç–∞—Ç—É—Å
./scripts/prod.sh status

# –õ–æ–≥–∏
./scripts/prod.sh logs-app

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/prod.sh update-stash  # —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

#### Development:
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
./scripts/test_local.sh setup

# –ó–∞–ø—É—Å–∫
./scripts/test_local.sh start

# –¢–µ—Å—Ç—ã
./scripts/test_local.sh test-unit
```

#### –ú–∏–≥—Ä–∞—Ü–∏–∏:
```bash
# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
./scripts/create_migration.sh "Add new field"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å
docker-compose -f docker-compose.prod.yml exec app alembic upgrade head
```

#### Backup:
```bash
# –°–æ–∑–¥–∞—Ç—å backup
./scripts/backup.sh

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º retention
./scripts/backup.sh --retention-days 7
```

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

